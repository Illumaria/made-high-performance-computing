# Домашнее задание №5: MPI

- [X] **1. Знакомство в компании (25%).** Представим, что процессы – это компания незнакомых людей, которые знакомятся с помощью следующей игры:
    - Начинает процессор 0. Случайным образом он выбирает другой процессор `i` и посылает ему сообщение со своим именем (можете случайным образом задавать имя).
    - Процессор `i` отсылает сообщение случайному процессору `j` (который ещё не участвовал в игре), в сообщении – все имена и ранги предыдущих процессоров в правильном порядке. Номер процессора `j` знает только `i`, так что все должны быть начеку.
    - Игра заканчивается через `N` ходов.
    Используйте синхронную пересылку `MPI_SSend`. Напишите программу, используя MPI.

Для проверки выполнить (можно указать желаемое количество процессов):
```bash
chmod +x mpi_greeting.py
mpirun -n 4 ./mpi_greeting.py
```

Результат выполнения на локальном компьютере:

```
Hello to processor_2 from processor_0
Hello to processor_3 from processor_2
Hello to processor_1 from processor_3
```

- [X] **2. Параллельный одноклеточный автомат.** С помощью MPI распараллельте одномерный клеточный автомат Вольфрама (Rule110). Игра происходит следующим образом:
    - Инициализируйте одномерный массив значениями 0 и 1 случайным образом.
    - В зависимости от значений левого соседа, себя и правого соседа на следующем шаге клетка либо меняет значение, либо остается той же. Посмотрите, например, что значит Rule110 (https://en.wikipedia.org/wiki/Rule_110).
    - [X] Сделайте периодические и непериодические граничные условия (5%).
    - [X] Работает параллельный код на нескольких процессах (20%).
    - [X] Имплементированы клетки-призраки (ghost cells) (10%).
    - [X] Можно поменять правило игры (сделать одно из 256) (20%).
    - [X] График ускорения работы программы от кол-ва процессов (5%).
    - [X] Картинка эволюции для одного правила (15%).

Для проверки выполнить (можно указать желаемое количество процессов):
```bash
chmod +x mpi_cellular_automata.py
mpirun -n 4 ./mpi_cellular_automata.py --n-epochs 10 --size 8 --rule-id 110 --periodic --show-progress
```

Результат выполнения на локальном компьютере:

```
⬜⬜⬜⬛⬛⬜⬜⬛
⬜⬛⬜⬛⬜⬜⬜⬜
⬜⬜⬜⬜⬜⬛⬛⬛
⬜⬛⬛⬛⬜⬛⬛⬜
⬜⬛⬛⬜⬜⬛⬜⬜
⬜⬛⬜⬜⬜⬜⬜⬛
⬜⬜⬜⬛⬛⬛⬜⬜
⬛⬛⬜⬛⬛⬜⬜⬛
⬛⬜⬜⬛⬜⬜⬜⬛
⬜⬜⬜⬜⬜⬛⬜⬛
⬜⬛⬛⬛⬜⬜⬜⬜
Time elapsed for world size of 4: 0.001684182 s
```

Для проверки времени выполнения в зависимости от количества процессов (можно изменить максимальное их число) выполнить:
```bash
chmod +x timings.sh
./timings.sh 5
```

Результат выполнения на локальном компьютере:

```
Time elapsed for world size of 1: 2.594196118 s
Time elapsed for world size of 2: 1.521035592 s
Time elapsed for world size of 3: 1.092523775 s
Time elapsed for world size of 4: 0.911953305 s
Time elapsed for world size of 5: 0.853558302 s
Done!
```

## Бонус

- [X] **1. Параллельная игра «Жизнь» (20%).** Распараллельте игру «Жизнь» Конвея (https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life).

Необходимы библиотеки `numpy` и `matplotlib`, а также возможность выводить изображение на экран (на сервере работать не будет). **Штатное** (не баг, а фича!) завершение работы программы осуществляется нажатием комбинации клавиш `Ctrl+C` в активном терминале.
Для проверки выполнить (можно указать желаемое количество процессов):
```bash
chmod +x mpi_game_of_life.py
# random grid
mpirun -n 4 ./mpi_game_of_life.py --grid-size 100 --frame-rate 25 --fraction-alive 0.2
# gosper glider gun
mpirun -n 4 ./mpi_game_of_life.py --grid-size 100 --frame-rate 25 --gosper
```

- [ ] «Война и Мир» (10%). С помощью работы на нескольких процессах (MPI) найдите топ-10 встречающихся слов в романе «Война и Мир» Л.Н. Толстого.
